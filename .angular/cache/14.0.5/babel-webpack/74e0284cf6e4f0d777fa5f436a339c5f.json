{"ast":null,"code":"import _asyncToGenerator from \"/home/code237/Documents/GitHub/Projet1_Wds/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet HabitationsComponent = class HabitationsComponent {\n  constructor(service) {\n    this.service = service;\n    this.habitations_list = [];\n    this.intitule_new_habitation = \"\";\n    this.search = \"\";\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.service.getAllHabitations().subscribe(data => {\n        _this.habitations_list = data;\n      });\n    })();\n  }\n  /*Cette methode permet de recuperer l'habitation acutellement selectionner\n  afin d'y appliquer des modification*/\n\n\n  setCurrentHabitation(habitation) {\n    this.current_habitation = habitation;\n  }\n  /*Cette methode permet de supprimer une habitation*/\n\n\n  deleteHabitation(id) {\n    this.service.deleteHabitation(id).subscribe(data => {\n      console.log(\"Habitation supprime avec success\");\n      this.ngOnInit();\n    });\n  }\n  /*Cette methode permet d'ajouter une nouvelle habitation*/\n\n\n  addHabitation() {\n    const new_habitation = {\n      intitule: String(this.intitule_new_habitation.toString()),\n      created_at: new Date(),\n      updated_at: new Date()\n    };\n    console.log(this.new_habitation);\n    this.service.addHabitation(new_habitation).subscribe(data => {\n      console.log(data);\n      console.log(\"Habitation ajoute avec success\");\n      this.ngOnInit();\n    });\n  }\n\n  new_habitation(new_habitation) {\n    throw new Error('Method not implemented.');\n  }\n  /*Cette methode permet de modifier une habitation*/\n\n\n  updateHabitation() {\n    const updateHabitation = {\n      id: this.current_habitation?.id,\n      intitule: String(this.update_intitule?.toString()),\n      created_at: new Date()\n    };\n    this.service.updateHabitation(updateHabitation).subscribe(data => {\n      console.log(\"Habitation modifiee avec success\");\n      this.ngOnInit();\n    });\n  }\n  /**/\n\n\n  changelinkhabitation(event) {\n    this.id_link_habitation = event.target.value;\n  }\n  /** */\n\n\n  linkHabitation() {\n    this.service.linkHabitation(this.id_link_habitation, this.current_habitation?.id).subscribe(data => {\n      console.log(data);\n    });\n    console.log(`L'habitation ${this.id_link_habitation} viens d'etre liee a :  ${this.current_habitation?.intitule}`);\n  }\n\n};\nHabitationsComponent = __decorate([Component({\n  selector: 'app-habitations',\n  templateUrl: './habitations.component.html',\n  styleUrls: ['./habitations.component.scss']\n})], HabitationsComponent);\nexport { HabitationsComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAT,QAAkC,eAAlC;AASA,IAAaC,oBAAoB,GAAjC,MAAaA,oBAAb,CAAiC;EAE/BC,YAAoBC,OAApB,EAA8C;IAA1B;IAGpB,wBAA+B,EAA/B;IACA,+BAAgC,EAAhC;IAEE,cAAgB,EAAhB;EANiD;;EAO7CC,QAAQ;IAAA;;IAAA;MACZ,MAAM,KAAI,CAACD,OAAL,CAAaE,iBAAb,GAAiCC,SAAjC,CAA2CC,IAAI,IAAE;QACrD,KAAI,CAACC,gBAAL,GAAwBD,IAAxB;MACD,CAFK,CAAN;IADY;EAKb;EACD;;;;EAEAE,oBAAoB,CAACC,UAAD,EAAuB;IACzC,KAAKC,kBAAL,GAA0BD,UAA1B;EACD;EACD;;;EACAE,gBAAgB,CAACC,EAAD,EAAO;IACvB,KAAKV,OAAL,CAAaS,gBAAb,CAA8BC,EAA9B,EAAkCP,SAAlC,CAA4CC,IAAI,IAAE;MACjDO,OAAO,CAACC,GAAR,CAAY,kCAAZ;MACA,KAAKX,QAAL;IACA,CAHD;EAKC;EACD;;;EACAY,aAAa;IACX,MAAMC,cAAc,GAAe;MACjCC,QAAQ,EAACC,MAAM,CAAC,KAAKC,uBAAL,CAA6BC,QAA7B,EAAD,CADkB;MAEjCC,UAAU,EAAC,IAAIC,IAAJ,EAFsB;MAGjCC,UAAU,EAAC,IAAID,IAAJ;IAHsB,CAAnC;IAKAT,OAAO,CAACC,GAAR,CAAY,KAAKE,cAAjB;IACA,KAAKd,OAAL,CAAaa,aAAb,CAA2BC,cAA3B,EAA4CX,SAA5C,CAAsDC,IAAI,IAAE;MAC1DO,OAAO,CAACC,GAAR,CAAYR,IAAZ;MACAO,OAAO,CAACC,GAAR,CAAY,gCAAZ;MACA,KAAKX,QAAL;IACD,CAJD;EAMD;;EACDa,cAAc,CAACA,cAAD,EAAoB;IAChC,MAAM,IAAIQ,KAAJ,CAAU,yBAAV,CAAN;EACD;EACD;;;EACAC,gBAAgB;IACd,MAAMA,gBAAgB,GAAe;MACnCb,EAAE,EAAC,KAAKF,kBAAL,EAAyBE,EADO;MAEnCK,QAAQ,EAACC,MAAM,CAAC,KAAKQ,eAAL,EAAsBN,QAAtB,EAAD,CAFoB;MAGnCC,UAAU,EAAC,IAAIC,IAAJ;IAHwB,CAArC;IAKA,KAAKpB,OAAL,CAAauB,gBAAb,CAA8BA,gBAA9B,EAAgDpB,SAAhD,CAA0DC,IAAI,IAAE;MAC9DO,OAAO,CAACC,GAAR,CAAY,kCAAZ;MACA,KAAKX,QAAL;IACD,CAHD;EAID;EACD;;;EACAwB,oBAAoB,CAACC,KAAD,EAAU;IAC5B,KAAKC,kBAAL,GAA0BD,KAAK,CAACE,MAAN,CAAaC,KAAvC;EACD;EACD;;;EACAC,cAAc;IACZ,KAAK9B,OAAL,CAAa8B,cAAb,CAA4B,KAAKH,kBAAjC,EAAqD,KAAKnB,kBAAL,EAAyBE,EAA9E,EAAmFP,SAAnF,CACEC,IAAI,IAAE;MACJO,OAAO,CAACC,GAAR,CAAYR,IAAZ;IACD,CAHH;IAKDO,OAAO,CAACC,GAAR,CAAY,gBAAgB,KAAKe,kBAAkB,2BAA2B,KAAKnB,kBAAL,EAAyBO,QAAQ,EAA/G;EACA;;AAtE8B,CAAjC;AAAajB,oBAAoB,eALhCD,SAAS,CAAC;EACTkC,QAAQ,EAAE,iBADD;EAETC,WAAW,EAAE,8BAFJ;EAGTC,SAAS,EAAE,CAAC,8BAAD;AAHF,CAAD,CAKuB,GAApBnC,oBAAoB,CAApB;SAAAA","names":["Component","HabitationsComponent","constructor","service","ngOnInit","getAllHabitations","subscribe","data","habitations_list","setCurrentHabitation","habitation","current_habitation","deleteHabitation","id","console","log","addHabitation","new_habitation","intitule","String","intitule_new_habitation","toString","created_at","Date","updated_at","Error","updateHabitation","update_intitule","changelinkhabitation","event","id_link_habitation","target","value","linkHabitation","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/code237/Documents/GitHub/Projet1_Wds/src/app/components/HABITATION/habitations/habitations.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport IHabitation from 'src/app/models/habitation.models';\nimport { HabitationsService } from 'src/app/services/habitations.service';\n\n@Component({\n  selector: 'app-habitations',\n  templateUrl: './habitations.component.html',\n  styleUrls: ['./habitations.component.scss']\n})\nexport class HabitationsComponent implements OnInit {\n\n  constructor(private service:HabitationsService) { }\n  update_intitule?: string;\n  current_habitation?:IHabitation;\n  habitations_list:IHabitation[]=[];\n  intitule_new_habitation:String =\"\";\n  /* contient l'id de l'habitation qu'on veux lier*/ id_link_habitation?:number;\n    search:string = \"\"\n  async ngOnInit(){\n    await this.service.getAllHabitations().subscribe(data=>{\n      this.habitations_list = data;\n    })\n\n  }\n  /*Cette methode permet de recuperer l'habitation acutellement selectionner \n  afin d'y appliquer des modification*/ \n  setCurrentHabitation(habitation:IHabitation){\n    this.current_habitation = habitation;\n  }\n  /*Cette methode permet de supprimer une habitation*/\n  deleteHabitation(id:any):void{\n  this.service.deleteHabitation(id).subscribe(data=>{\n   console.log(\"Habitation supprime avec success\");\n   this.ngOnInit();\n  });\n  \n  }\n  /*Cette methode permet d'ajouter une nouvelle habitation*/\n  addHabitation():void{\n    const new_habitation:IHabitation = {\n      intitule:String(this.intitule_new_habitation.toString()),\n      created_at:new Date(),\n      updated_at:new Date()}\n\n    console.log(this.new_habitation)\n    this.service.addHabitation(new_habitation!).subscribe(data=>{\n      console.log(data);\n      console.log(\"Habitation ajoute avec success\");\n      this.ngOnInit();\n    })\n    \n  }\n  new_habitation(new_habitation: any) {\n    throw new Error('Method not implemented.');\n  }\n  /*Cette methode permet de modifier une habitation*/\n  updateHabitation(){\n    const updateHabitation:IHabitation = {\n      id:this.current_habitation?.id,\n      intitule:String(this.update_intitule?.toString()),\n      created_at:new Date()\n    }\n    this.service.updateHabitation(updateHabitation).subscribe(data=>{\n      console.log(\"Habitation modifiee avec success\");\n      this.ngOnInit();\n    });\n  }\n  /**/\n  changelinkhabitation(event:any){\n    this.id_link_habitation = event.target.value;\n  }\n  /** */\n  linkHabitation():void{\n    this.service.linkHabitation(this.id_link_habitation!,this.current_habitation?.id!).subscribe(\n      data=>{\n        console.log(data);\n      }\n    )\n   console.log(`L'habitation ${this.id_link_habitation} viens d'etre liee a :  ${this.current_habitation?.intitule}`)\n  }\n}\n"]},"metadata":{},"sourceType":"module"}