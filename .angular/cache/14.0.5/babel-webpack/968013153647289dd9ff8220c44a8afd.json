{"ast":null,"code":"import _asyncToGenerator from \"/home/code237/Documents/GitHub/Projet1_Wds/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/categories.service\";\nexport class CATEGORIESComponent {\n  constructor(service) {\n    this.service = service;\n    this.categories_list = [];\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.service.getAllCategory().subscribe(data => {\n        console.log(data);\n        _this.categories_list = data;\n      });\n    })();\n  }\n\n  setCurrentCategorie(categorie) {\n    this.current_categorie = categorie;\n  }\n\n  deleteCategorie(id) {\n    this.service.deleteCategorie(id).subscribe(data => console.log(data));\n  }\n\n  addCategorie() {\n    const cat = {\n      idparent: this.new_idparent,\n      intitule: this.new_intitule,\n      parent: this.new_parent\n    };\n    this.service.addCategory(cat).subscribe(data => {\n      console.log(data);\n      alert(\"Category ajoute avec success\");\n    });\n  }\n\n  updateCategorie() {\n    const cat = {\n      idparent: this.update_idparent,\n      intitule: this.update_intitule,\n      parent: this.update_parent\n    };\n  }\n\n}\n\nCATEGORIESComponent.ɵfac = function CATEGORIESComponent_Factory(t) {\n  return new (t || CATEGORIESComponent)(i0.ɵɵdirectiveInject(i1.CategoriesService));\n};\n\nCATEGORIESComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CATEGORIESComponent,\n  selectors: [[\"app-categories\"]],\n  decls: 0,\n  vars: 0,\n  template: function CATEGORIESComponent_Template(rf, ctx) {},\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXRlZ29yaWVzLmNvbXBvbmVudC5zY3NzIn0= */\"]\n});","map":{"version":3,"mappings":";;;AASA,OAAM,MAAOA,mBAAP,CAA0B;EAE9BC,YAAoBC,OAApB,EAA6C;IAAzB;IAUpB,uBAA8B,EAA9B;EAVkD;;EAW5CC,QAAQ;IAAA;;IAAA;MACZ,KAAI,CAACD,OAAL,CAAaE,cAAb,GAA8BC,SAA9B,CACEC,IAAI,IAAE;QACJC,OAAO,CAACC,GAAR,CAAYF,IAAZ;QACA,KAAI,CAACG,eAAL,GAAqBH,IAArB;MACD,CAJH;IADY;EAOb;;EACDI,mBAAmB,CAACC,SAAD,EAAqB;IACtC,KAAKC,iBAAL,GAAyBD,SAAzB;EACD;;EACDE,eAAe,CAACC,EAAD,EAAU;IACvB,KAAKZ,OAAL,CAAaW,eAAb,CAA6BC,EAA7B,EAAiCT,SAAjC,CAA2CC,IAAI,IAC7CC,OAAO,CAACC,GAAR,CAAYF,IAAZ,CADF;EAED;;EACDS,YAAY;IACV,MAAMC,GAAG,GAAe;MACtBC,QAAQ,EAAC,KAAKC,YADQ;MAEtBC,QAAQ,EAAC,KAAKC,YAFQ;MAGtBC,MAAM,EAAC,KAAKC;IAHU,CAAxB;IAKA,KAAKpB,OAAL,CAAaqB,WAAb,CAAyBP,GAAzB,EAA8BX,SAA9B,CACEC,IAAI,IAAE;MACJC,OAAO,CAACC,GAAR,CAAYF,IAAZ;MACAkB,KAAK,CAAC,8BAAD,CAAL;IACD,CAJH;EAMD;;EACDC,eAAe;IACb,MAAMT,GAAG,GAAe;MACtBC,QAAQ,EAAC,KAAKS,eADQ;MAEtBP,QAAQ,EAAC,KAAKQ,eAFQ;MAGtBN,MAAM,EAAC,KAAKO;IAHU,CAAxB;EAKD;;AA/C6B;;;mBAAnB5B,qBAAmB6B;AAAA;;;QAAnB7B;EAAmB8B;EAAAC;EAAAC;EAAAC;EAAAC","names":["CATEGORIESComponent","constructor","service","ngOnInit","getAllCategory","subscribe","data","console","log","categories_list","setCurrentCategorie","categorie","current_categorie","deleteCategorie","id","addCategorie","cat","idparent","new_idparent","intitule","new_intitule","parent","new_parent","addCategory","alert","updateCategorie","update_idparent","update_intitule","update_parent","i0","selectors","decls","vars","template","styles"],"sourceRoot":"","sources":["/home/code237/Documents/GitHub/Projet1_Wds/src/app/components/categories/categories.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport ICategorie from 'src/app/models/categorie.models';\nimport { CategoriesService } from 'src/app/services/categories.service';\n\n@Component({\n  selector: 'app-categories',\n  templateUrl: './categories.component.html',\n  styleUrls: ['./categories.component.scss']\n})\nexport class CATEGORIESComponent implements OnInit {\n\n  constructor(private service:CategoriesService) { }\n  update_idparent?:any;\n  update_intitule?:string;\n  update_parent?:any;\n  /************************************************************************************************ */\n  new_idparent?:any;\n  new_intitule?:string;\n  new_parent?:any;\n\n  current_categorie?:ICategorie;\n  categories_list?:ICategorie[]=[];\n  async ngOnInit(){\n    this.service.getAllCategory().subscribe(\n      data=>{\n        console.log(data);\n        this.categories_list=data;\n      }\n    )\n  }\n  setCurrentCategorie(categorie:ICategorie){\n    this.current_categorie = categorie;\n  }\n  deleteCategorie(id:number){\n    this.service.deleteCategorie(id).subscribe(data => \n      console.log(data));\n  }\n  addCategorie(){\n    const cat :ICategorie = {\n      idparent:this.new_idparent,\n      intitule:this.new_intitule!,\n      parent:this.new_parent\n    }\n    this.service.addCategory(cat).subscribe(\n      data=>{\n        console.log(data);\n        alert(\"Category ajoute avec success\");\n      }\n    )\n  }\n  updateCategorie(){\n    const cat :ICategorie = {\n      idparent:this.update_idparent,\n      intitule:this.update_intitule!,\n      parent:this.update_parent\n    }\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}